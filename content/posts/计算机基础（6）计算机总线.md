---
title: 计算机基础（6）计算机总线
top: 1
date: 2016-02-01 11:44:16
tags: ["编程基础","计算机网络"]
categories: ["编程基础"]
---



### 总线概述

通用串行总线 USB=Universal Serial Bus
- 提供了对外连接的接口
- 不同设备可以通过 USB 接口进行连接
- 连接的标准，促使外围设备接口的统一
- USB、ISA 总线、Thunderbolt 总线、PCI 总线
- 解决不同设备之前的通信问题

#### 分散连接

![uTools_1576832828368](https://tvax1.sinaimg.cn/large/a616b9a4gy1ga3aubhczrj20st0b441z.jpg)

#### 总线连接

![UTOOLS1576832953682.png](https://i.loli.net/2019/12/20/UADZS3dtbgrQnuw.png)

### 总线分类

#### 片内总线

![UTOOLS1576833170290.png](https://i.loli.net/2019/12/20/4vpQVScohzBWNux.png)

- 芯片内部的总线
- 寄存器与寄存器之间
- 寄存器与控制器、运算器之间

#### 系统总线

![UTOOLS1576833264668.png](https://i.loli.net/2019/12/20/KtcUShJlIHrQVaW.png)
CPU、主内存、IO 设备、各组件之间的信息传输线
- 数据总线
- 地址总线
- 控制总线

##### 数据总线

- 双向传输各个部件的数据信息
- 数据总线的位数（总线宽度）是数据总线的重要参数
- 一般与 CPU 位数相同（32 位、64 位）

##### 地址总线

- 指定源数据或目的数据在内存中的地址
- 地址总线的位数与存储单元有关
- 地址总线位数 =n，寻址范围：0~𝟐^𝒏

##### 控制总线

- 控制总线是用来发出各种控制信号的传输线
- 控制信号经由控制总线从一个组件发给另外一个组件
- 控制总线可以监视不同组件之间的状态（就绪 / 未就绪）

### 总线的仲裁

#### 为什么需要总线仲裁

- 为了解决总线使用权的冲突问题

#### 总线仲裁的方法

##### 链式查询

![UTOOLS1576834696705.png](https://user-gold-cdn.xitu.io/2019/12/20/16f22ac079cf37bd?w=1387&h=496&f=png&s=123535)
- 好处：电路复杂度低，仲裁方式简单
- 坏处：优先级低的设备难以获得总线使用权
- 坏处：对电路故障敏感

##### 计时器定时查询

![UTOOLS1576834633052.png](https://i.loli.net/2019/12/20/sjRv4iOQAVdnfZ6.png)
- 仲裁控制器对设备编号并使用计数器累计计数
- 接收到仲裁信号后，往所有设备发出计数值
- 计数值与设备编号一致则获得总线使用权

##### 独立请求
![1596858838(1).jpg](https://ws1.sinaimg.cn/large/a616b9a4gy1ghj9jox7esj215y0e541m.jpg)
- 每个设备均有总线独立连接仲裁器
- 设备可单独向仲裁器发送请求和接收请求
- 当同时收到多个请求信号，仲裁器有权按优先级分配使用权
- 好处：响应速度快，优先顺序可动态改变
- 坏处：设备连线多，总线控制复杂

#### 串联优先级判别
![1596864255(1).jpg](https://ws1.sinaimg.cn/large/a616b9a4gy1ghjc5hx73wj21db0go42z.jpg)
- 优先级高的设备经常得到总线使用权限
- 优先级低的设备长时间无法得到总线
#### 并联优先级判别
![image](https://tva2.sinaimg.cn/large/a616b9a4gy1ghjcbq8chej21dm0hx79n.jpg)
- 优先级高的设备经常得到总线使用权限
- 优先级低的设备长时间无法得到总线
#### 循环优先级判别
![image](https://tvax4.sinaimg.cn/large/a616b9a4gy1ghjcdax3wfj21dn0hsdl0.jpg)