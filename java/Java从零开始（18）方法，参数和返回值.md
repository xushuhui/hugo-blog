---
title: Java 从零开始（18）方法，参数和返回值
draft: true
date: 2016-04-01 11:06:19
tags: ["Java"]
categories: ["Java"]

---

## 参数和返回值是怎么传递的

- 参数和方法里的局部变量可以认为是一样的东西。只是在方法调用之前，会用实参给参数
的形参赋值
- 发生在代码块里的，就让它留在代码块里。方法执行完毕，参数和方法的局部变量的数据
就会被删除回收。就好像演草纸，作用是计算一个值，算好之后，演草纸就可以扔了
- 调用一个有返回值的方法时，就好像访问一个成员变量

## 方法（Method）——让可以商品描述自己

方法英文名叫做 method，又称作 function。

### 方法是什么

- 类中如果不定义方法，只定义成员变量，那么一个类就没有了功能，只是简单的数据的封装。
创建一个对象之后，所有对这些数据的操作，都要在每个用到这些数据的地方写代码
- 类通过成员变量和方法描述世界。成员变量是描述一类事物的属性，是数据；方法是描述一
类事物的行为和功能，是对数据的操作。比如最开始我们写的 describe 方法
- 方法中的代码可以通过操作一个对象的成员变量，完成一个功能
- 方法是 Java 中代码执行的单元，是代码的载体。所有的代码，都必须属于某一个方法
- 方法就是一串语句，加上数据输入 this 自引用和参数，执行后得到一个返回值。所以使用一个对象调用一个方法，可以叫做调用对象的方法，也可以叫做“在这个对象上调用方法（ invoke a method on an object ）”
- 方法不是对象的一部分，它是类的一部分。每个对象可以给成员变量赋不同的值，但是无法让方法有不同的行为。同理，无论在一个类中定义多少方法，都不会让影响创建一个对象所占用的内存

### 方法的特殊之处

- 和代码块比，方法特殊在：
-  有名字
-  有返回值
-  有参数
-  有 this 自引用
-  明确的属于某一个类
-  可以（也只能）通过对象引用来调用

### 方法的调用

- 通过引用的点操作符，可以调用对象的方法
- 方法调用要有括号，即使没有参数

方法可以使用的数据：对象的成员变量（member variable ）

### 理解方法的调用：代码的一种特殊跳转

- 对象可以在自己的方法里调用自己类的别的的方法，甚至可以调用自己的方法。
- 方法在类中定义的先后，没有任何影响。
-  方法是一种根据名字做跳转的代码流程控制方式。它的特殊之处在于有 this 自引用，有参数，
有返回值。

## 分清参数、局部变量和实例的地盘

- 局部变量就是我们之前说的变量，是在方法体里创建的变量
- 参数和局部变量都是演草纸，方法执行完就清除了
- 对象是实体 / 实例，不是变量。对象创建出来后，被堆在一起，放在类似公告板的地方。方法里创建的对象是不会随着方法结束被清除的。所以对象的地盘不受限制，只要有引用指向一个对象，这个对象的数据就可以通过这个引用来访问

## 参数和局部变量重名会怎样


## 把操作成员变量的代码放在类里

- 初始化成员变量
- 简单访问和设置成员变量的值 （ Java Bean ）
- 专有的一些计算逻辑
- 用类定义成员变量，并把操作成员变量的代码都放在类里，就是封装：
    - 可以集中管控，自己的成员变量别人不可以乱来，避免出现非法的状态，比如库存为负数
    - 代码逻辑可以公用，避免代码重复，修改的时候只需改一处
    - 封装的好，可以更好的抽象一类事物

## 方法重载 （overload）

- 方法签名：方法名 + 依次参数类型。注意，返回值不属于方法签名。方法签
名是一个方法在一个类中的唯一标识
- 同一个类中方法可以重名，但是签名不可以重复。一个类中如果定义了名字
相同，签名不同的方法，就叫做方法的重载
- 看代码：重写我们的购买方法，理解方法签名

### 重载的参数匹配规则

- 看例程：有了论斤卖的商品，数量变成 double 类型。有论整个卖的，有
散装称重卖的，事情开始复杂起来
- 看例程：方法调用的时候，参数就不必完全类型一样，对于数字类型的参
数，实参数可以自动类型转换成形参类型即可
- 看例程：重载时如果参数类型不完全匹配怎么办
