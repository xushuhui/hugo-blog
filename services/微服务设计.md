#### API Gateway
我们进行了 SOA 服务化的架构演进，按照垂直功能进行了拆分，对外暴露了一批微服务，但是因为缺乏统一的出口面临了不少困难：
- 客户端到微服务直接通信，强耦合。
- 需要多次请求，客户端聚合数据，工作量巨大，延迟高。
- 协议不利于统一，各个部门间有差异，需要端来兼容。
- 面向“端”的API适配，耦合到了内部服务。
- 多终端兼容逻辑复杂，每个服务都需要处理。
- 统一逻辑无法收敛，比如安全认证、限流。
我们之前提到了我们工作模型，要内聚模式配合。
##### 优化
我们新增了一个 app-interface 用于统一的协议出口，在服务内进行大量的 dataset join，按照业务场景来设计粗粒度的 API，给后续服务的演进带来的很多优势：
轻量交互：协议精简、聚合。
差异服务：数据裁剪以及聚合、针对终端定制化API。
动态升级：原有系统兼容升级，更新服务而非协议。
沟通效率提升，协作模式演进为移动业务+网关小组。

BFF 可以认为是一种适配服务，将后端的微服务进行适配(主要包括聚合裁剪和格式适配等逻辑)，向无线端设备暴露友好和统一的 API，方便无线设备接入访问后端服务。

